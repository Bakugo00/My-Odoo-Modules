<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record model="ir.ui.view" id="partner_view_total_unpaid_invoiced">
            <field name="name">partner.view.total_unpaid_invoiced</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="priority" eval="11"/>
            <field name="arch" type="xml">

                <div name="button_box" position="inside">
                    <button type="object" class="oe_stat_button" icon="fa-pencil-square-o"
                            name="action_view_unpaid_invoiced"
                            context="{'default_partner_id': active_id}">
                        <div class="o_form_field o_stat_info">
                            <span class="o_stat_value">
                                <field name="currency_id" invisible="1"/>
                                <field name="total_unpaid_invoiced" widget='monetary'
                                       options="{'currency_field': 'currency_id'}"/>
                            </span>
                            <span class="o_stat_text">Impayé</span>
                        </div>
                    </button>
                </div>

            </field>
        </record>


        <record model="ir.ui.view" id="account_partner_view">
            <field name="name">account.partner.view</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account.view_partner_property_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='bank_id']" position="attributes">
                    <attribute name="options">{'no_create': True, 'no_create_edit': True,'no_quick_create': True,
                        'no_open': True}
                    </attribute>
                </xpath>

                <xpath expr="//field[@name='property_account_receivable_id']" position="attributes">
                    <attribute name="options">{'no_create': True, 'no_create_edit': True,'no_quick_create': True,
                        'no_open': True}
                    </attribute>
                </xpath>

                <xpath expr="//field[@name='property_account_payable_id']" position="attributes">
                    <attribute name="options">{'no_create': True, 'no_create_edit': True,'no_quick_create': True,
                        'no_open': True}
                    </attribute>
                </xpath>

            </field>
        </record>

        <!--        <record forcecreate="True" id="ir_cron_update_total_invoiced" model="ir.cron">-->
        <!--            <field name="name">Mettre à jours le montant facturé dans la fiche client</field>-->
        <!--            <field name="model_id" ref="model_res_partner"/>-->
        <!--            <field name="state">code</field>-->
        <!--            <field name="code">model._update_total_invoiced()</field>-->
        <!--            <field eval="True" name="active"/>-->
        <!--            <field name="interval_number">3</field>-->
        <!--            <field name="interval_type">days</field>-->
        <!--            <field name="numbercall">-1</field>-->
        <!--            <field name="priority">1</field>-->
        <!--        </record>-->


    </data>
    
</odoo>
